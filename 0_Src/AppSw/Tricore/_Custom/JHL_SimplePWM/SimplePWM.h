#ifndef SIMPLEPWM_H
#define SIMPLEPWM_H 1
/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/
#include <IfxGtm_Tom_Pwm.h>

/******************************************************************************/
/*-----------------------------------Macros-----------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*--------------------------------Enumerations--------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/
typedef enum
{
    JHL_Gtm_Cmu_Clk_Glob = 0,
    JHL_Gtm_Cmu_Clk_0,
    JHL_Gtm_Cmu_Clk_1,
    JHL_Gtm_Cmu_Clk_2,
    JHL_Gtm_Cmu_Clk_3,
    JHL_Gtm_Cmu_Clk_4,
    JHL_Gtm_Cmu_Clk_5,
    // 6, 7 not support
} _JHL_PWMSrcClkSel;

typedef struct {
    float32 frequencyHz;
    uint16  period;
    uint16  dutyCycle;
    IfxGtm_Tom              tom;
    IfxGtm_Tom_Ch           tomChannel;
    IfxGtm_Cmu_Clk          tomChannelClkSrc; 
    // tomChannelClkSrc : not support global clk !
    // tomChannelClkSrc : not support clk 6, 7
    IfxGtm_Tom_ToutMap      *outputPin;
} JHL_PWMConfig;

typedef struct { 
    JHL_PWMConfig config;
} JHL_PWM;

/******************************************************************************/
/*------------------------------Global variables------------------------------*/
/******************************************************************************/
IFX_EXTERN JHL_PWM g_PWM;

/******************************************************************************/
/*-------------------------Function Prototypes--------------------------------*/
/******************************************************************************/
void JHL_SimplePWM_Config_init(JHL_PWMConfig* config);
void JHL_SimplePWM_init(JHL_PWM* pwm);

#endif
